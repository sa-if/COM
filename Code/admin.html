<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel</title>
    <link rel="stylesheet" href="admin-style.css"> 
</head>
<body>
    <header>
        <h1>Admin Panel</h1>
        <nav>
            <button id="nav-products">Manage Products</button>
            <button id="nav-orders">View Orders</button>
            <button id="nav-users">View Users</button>
        </nav>
        <!-- Simple API Key Input -->
        <div class="api-key-section">
            <label for="admin-api-key">Admin API Key:</label>
            <input type="password" id="admin-api-key" placeholder="Enter Admin Key">
            <button id="save-api-key">Save Key</button> 
            <span id="api-key-status"></span>
        </div>
    </header>

    <main>
        <section id="products-section" class="admin-section">
            <h2>Manage Products</h2>
            <button id="show-add-product-form">Add New Product</button>
            <!-- Add/Edit Product Form (initially hidden) -->
            <form id="product-form" style="display: none;">
                <h3>Add/Edit Product</h3>
                <input type="hidden" id="product-id">
                <div>
                    <label for="product-name">Name:</label>
                    <input type="text" id="product-name" required>
                </div>
                <div>
                    <label for="product-description">Description:</label>
                    <textarea id="product-description" required></textarea>
                </div>
                <div>
                    <label for="product-price">Price:</label>
                    <input type="number" id="product-price" step="0.01" required>
                </div>
                <div>
                    <label for="product-image">Image URL:</label>
                    <input type="url" id="product-image" required>
                </div>
                <button type="submit" id="save-product-button">Save Product</button>
                <button type="button" id="cancel-edit-product">Cancel</button>
            </form>
            
            <!-- Product List Table -->
            <table id="products-table">
                <thead>
                    <tr>
                        <th>Image</th>
                        <th>Name</th>
                        <th>Price</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="products-list">
                    <!-- Products will be loaded here -->
                </tbody>
            </table>
        </section>

        <section id="orders-section" class="admin-section" style="display: none;">
            <h2>View Orders</h2>
            
            <div class="filter-section card">
                <h3>Filter Orders</h3>
                
                <div class="filter-controls">
                    <label for="filter-date">Filter by Date:</label>
                    <input type="date" id="filter-date">
                    
                    <button id="apply-filters" class="btn primary">Filter</button>
                    <button id="clear-filters" class="btn">Show All</button>
                </div>
                
                <div class="export-section">
                     <button id="export-orders-button" class="btn secondary">Export Filtered Orders (CSV)</button>
                </div>
            </div>
            <!-- Order List Table -->
            <p id="orders-loading" style="text-align: center; padding: 10px;">Loading orders...</p>
            <table id="orders-table">
                <thead>
                    <tr>
                        <th>Order ID</th>
                        <th>Date</th>
                        <th>Customer</th>
                        <th>Total</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="orders-list">
                    <!-- Orders will be loaded here -->
                </tbody>
            </table>
             <!-- Order Details Modal (Example Structure) -->
            <div id="order-details-modal" style="display:none; border: 1px solid #ccc; padding: 15px; margin-top: 15px;">
                <h3>Order Details</h3>
                <pre id="order-details-content"></pre> 
                <button id="close-order-modal">Close</button>
            </div>
        </section>

        <!-- Users Section (Add this) -->
        <section id="users-section" class="admin-section" style="display: none;">
            <h2>View Registered Users</h2>
            <table id="users-table">
                <thead>
                    <tr>
                        <th>User ID</th>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Registered On</th>
                    </tr>
                </thead>
                <tbody id="users-list">
                    <!-- Users will be loaded here -->
                </tbody>
            </table>
        </section>

    </main>

    <script src="admin.js"></script>
</body>
</html> 